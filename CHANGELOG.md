# 更新日志

所有重要的更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/),
版本号遵循 [Semantic Versioning](https://semver.org/lang/zh-CN/)。

## [1.4.0] - 2025-11-28

### 新增
- 多文件重构

### 改进
- 代码多个文件

## [1.3.0] - 2025-01-29

### 新增
- 智能播放检测: 自动检测并点击"继续播放"提示框
- 模块化架构: 完全重构代码为ES6模块化架构
  - 功能模块: learning-core.js, exam-core.js
  - UI组件: learning-tab.js, exam-tab.js, log-tab.js
  - 工具模块: utils/, config.js, state.js, logger.js
  - 样式模块: styles/index.js

### 改进
- 页面适配优化
  - 根据URL自动显示对应功能
  - 默认标签页根据页面类型自动切换
- 日志系统增强
  - 答题时显示完整题目信息
  - 所有配置变更都会记录日志
  - 优化日志页面布局
  - 修复日志占位符不消失的问题
  - 修复日志计数显示为0的问题
- 学习功能优化
  - 移除暂停学习功能
  - 面板折叠状态持久化保存
  - 多次尝试检测"继续播放"按钮

### 修复
- 多选题修复: 修复多选题只选中一个选项的问题
- UI闪烁修复: 修复学习模式启动时界面抖动的问题
- 导入路径修复: 修复模块导入路径错误
- 日志更新修复: 添加全局函数正确更新日志计数

### 代码清理
- 删除未使用的 Logger.enable/disable 方法
- 删除未使用的 DOMCache.getAll/clear 方法
- 删除未使用的 ConfigManager.set/setAIConfig 方法
- 删除未使用的 DOMCache.panel 预缓存对象
- 删除 stopLearning 函数及相关代码
- 移除重复的配置处理逻辑

### 技术栈
- 使用 Vite 作为构建工具
- 使用 vite-plugin-monkey 插件构建UserScript
- ES6 模块化开发
- 支持开发模式热重载

## [1.2.1] - 2025-01-27

### 改进
- 学习功能优化
  - 优化章节展开逻辑
  - 提升章节加载稳定性和成功率

### 代码清理
- 删除未使用的 clickSectionTitle 函数
- 清理未使用的变量

## [1.2.0] - 2025-01-27

### 改进
- 代码逻辑优化
  - 使用对象映射替代switch语句
  - 事件监听器增加防抖和节流优化
  - 简化配置处理逻辑
  - 优化DOM查询
- 界面动画优化
  - 调整按钮hover效果
  - 优化状态卡片hover动画
  - 头部控制按钮动画微调
  - 增加按钮active状态反馈
  - 调整阴影和光晕效果
- 性能提升
  - 点击事件加入防抖
  - change事件加入节流
  - 优化事件处理逻辑

## [1.1.0] - 2025-01-26

### 新增
- 代码架构优化
  - 新增 Utils 工具函数模块
  - 新增 Logger 日志系统
  - 新增 DOMCache DOM元素缓存系统
  - 新增 ConfigManager 统一配置管理

### 改进
- 事件处理优化
  - 使用事件委托模式
  - 统一的点击和变更事件处理
- 答题功能增强
  - AI请求添加自动重试机制
  - 改进错误处理和超时保护
  - 更详细的日志输出
- 性能提升
  - 防抖节流优化高频操作
  - DOM查询结果缓存
  - 减少重复的DOM操作

## [1.0.0] - 2025-01-25

### 新增
- 学习模式
  - 自动播放视频/音频
  - 自动浏览文档并翻页
  - 自动展开章节
  - 智能跳过考试节点
  - 支持1x-16x倍速播放
  - 可选静音模式
  - 进度保存功能
- 答题模式
  - AI智能答题
  - 支持多种AI模型
  - 可配置答题延迟
  - 可选自动交卷
- 界面特性
  - 现代化玻璃拟态UI设计
  - 浅色/深色主题切换
  - 可拖拽面板
  - 可折叠面板
  - 实时日志系统
- 其他功能
  - 详细的配置选项
  - 持久化配置保存
  - 完整的日志记录
